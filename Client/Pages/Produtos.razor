@page "/produtos"
@using AntDesign
@using Client.Components

<PageTitle>Home</PageTitle>

<h1 class="px-5 mb-5" style="color: rgb(170, 162, 162);">Produtos</h1>

<div class="mt-1">
    <table class="table">
        <thead class="thead-light">
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Produto</th>
                <th scope="col">Descricao</th>
                <th scope="col">Valor</th>
                <th scope="col">Observação</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var rec in produtos)
            {
                <tr @onclick="() => SelecionouTableID(rec)" style="cursor: pointer;">
                    <td>@rec.Id</td>
                    <td>@rec.Produto</td>
                    <td>@rec.Descricao</td>
                    <td>@rec.Valor</td>
                    <td>@rec.Obs</td>
                    <td>Editar</td>
                </tr>
            }
        </tbody>
    </table>
</div>
<div>
    <DynamicDrawer Title="Produtos" Fields="@produto" @bind-Visible="visibleDrawer">
        <div class="mt-3">
            <InputText class="form-control" placeholder="Observação" @bind-Value="inputValueObs" />
        </div>
        <div class="mt-3 text-end">
            <Button Type="ButtonType.Primary" @onclick="() => SalvarObsAsync()">Salvar</Button>
        </div>
    </DynamicDrawer>
</div>